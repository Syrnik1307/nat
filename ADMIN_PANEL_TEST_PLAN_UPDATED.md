# üõ°Ô∏è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ LMS Teaching Panel (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)

–î–∞—Ç–∞: 4 –¥–µ–∫–∞–±—Ä—è 2025  
–°—Ç–∞—Ç—É—Å: –ê–∫—Ç—É–∞–ª—å–Ω–æ  
–ü–æ–∫—Ä—ã—Ç–∏–µ: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è, –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã, —Ä—É—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –ø—Ä–æ–¥-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## 1. –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

- Backend: Django + DRF, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ API –≤ `accounts/admin_views.py`
- Frontend: React, `AdminHomePage.js` + –º–æ–¥–∞–ª—å–Ω—ã–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (`TeachersManage.js`, `StudentsManage.js`, `StorageQuotaModal.js`, `SubscriptionsModal.js`, `ZoomPoolManager.js`)
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: —Ç–æ–ª—å–∫–æ `role=admin`, `is_staff=True` –∏–ª–∏ `is_superuser=True`
- –ê–¥–º–∏–Ω-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Django: `/admin/`

---

## 2. –°–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (`/accounts/api/admin/stats/`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∏—Ç–µ–ª—è–º–∏ (`/accounts/api/admin/teachers/`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏ (`/accounts/api/admin/students/`)
- Zoom-–ø—É–ª (`/api/zoom-accounts/` –∏ release/usage-stats)
- –ö–≤–æ—Ç—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è (`/storage/quotas/` + –¥–µ–π—Å—Ç–≤–∏—è)
- –ü–æ–¥–ø–∏—Å–∫–∏ (`/subscription/`, `subscription/cancel/`)
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`/accounts/api/admin/settings/`)
- –°–æ–æ–±—â–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ (`/accounts/api/admin/status-messages/`)
- Celery –º–µ—Ç—Ä–∏–∫–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã (`/api/celery/metrics/`, `/api/celery/trigger/<task_name>/`)

–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã: `accounts/tests/test_admin_views.py`, `zoom_pool/tests/test_admin_zoom.py`, `schedule/tests/test_celery_metrics.py`; —Ñ—Ä–æ–Ω—Ç: `AdminHomePage.test.js`, `TeachersManage.test.js`, `StorageQuotaModal.test.js`.

---

## 3. –ß–µ–∫-–ª–∏—Å—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (dev/prod)

1. –í—Ö–æ–¥ –ø–æ–¥ –∞–¥–º–∏–Ω–æ–º: `python manage.py createsuperuser`; –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `/admin/` –∏ SPA.
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–¥–µ–ª–æ–≤: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —É—á–∏—Ç–µ–ª—è/—É—á–µ–Ω–∏–∫–∏, Zoom-–ø—É–ª, –∫–≤–æ—Ç—ã, –ø–æ–¥–ø–∏—Å–∫–∏, —Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞, Celery.
3. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: –ø–æ–¥ —É—á–∏—Ç–µ–ª–µ–º/—É—á–µ–Ω–∏–∫–æ–º –≤—Å–µ –∞–¥–º–∏–Ω API ‚Äî 403.
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: Zoom –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ/—Ä–µ–ª–∏–∑, –∫–≤–æ—Ç—ã, –ø–æ–¥–ø–∏—Å–∫–∏ –∏—Å—Ç–æ—Ä–∏—è.
5. Edge cases: —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ, —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∫–≤–æ—Ç—ã, –¥–≤–æ–π–Ω–∞—è –æ—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏.

---

## 4. –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API: < 500 –º—Å
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—Ä–∞–≤: 100%
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π: > 99%
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞–º–∏: > 90%

---

## 5. –ü—Ä–æ–¥–∞–∫—à–Ω-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (UI/UX + E2E)

- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: –ø—Ä–æ–¥ –¥–æ–º–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∫—ç—à —Å—Ç–∞—Ç–∏–∫–∏, –Ω–µ—Ç 404/500; Lighthouse ‚â• 85.
- –ù–∞–≤–∏–≥–∞—Ü–∏—è: –ª–æ–≥–∏—á–Ω—ã–µ –ø—É–Ω–∫—Ç—ã, —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫, –ø—É—Å—Ç—ã–µ —Å—Ç–µ–π—Ç—ã, –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏.
- –§–æ—Ä–º—ã: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è, –≤–∞–ª–∏–¥–∞—Ü–∏–∏, —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∫–ª–∏–µ–Ω—Ç/—Å–µ—Ä–≤–µ—Ä.
- –†–æ–ª–∏: —É—á–µ–Ω–∏–∫/—É—á–∏—Ç–µ–ª—å –≤–∏–¥—è—Ç —Å–≤–æ—ë, –∞–¥–º–∏–Ω ‚Äî –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: Zoom –ø—É–ª (—Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–ª–∏–∑), Celery –º–µ—Ç—Ä–∏–∫–∏, –∑–∞–ø–∏—Å–∏, –∫–≤–æ—Ç—ã.
- –ü–æ—Ç–æ–∫–∏: 
  - –£—á–∏—Ç–µ–ª—å ‚Üí –≥—Ä—É–ø–ø–∞ ‚Üí —É—á–µ–Ω–∏–∫ ‚Üí —É—Ä–æ–∫ ‚Üí —Å—Ç–∞—Ä—Ç ‚Üí –∑–∞–ø–∏—Å—å ‚Üí –¥–æ—Å—Ç—É–ø —É—á–µ–Ω–∏–∫–∞.
  - –ü–æ–¥–ø–∏—Å–∫–∞: –æ—Ç–º–µ–Ω–∞/–∞–∫—Ç–∏–≤–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏.

---

## 6. –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π –Ω–∞ –ø—Ä–æ–¥ (–∫–æ–º–∞–Ω–¥—ã)

–í—ã–ø–æ–ª–Ω—è—Ç—å –≤—Ä—É—á–Ω—É—é, –±–µ–∑ –∞–≤—Ç–æ—Å–∫—Ä–∏–ø—Ç–æ–≤. –ù–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏/–∫–ª—é—á–∏.

```bash
ssh <user>@<host>
cd /home/nat/teaching_panel
git pull origin main
source venv/bin/activate
pip install -r requirements.txt
python manage.py migrate
python manage.py collectstatic --noinput
sudo systemctl restart teaching_panel
sudo systemctl restart celery
sudo systemctl restart nginx
sudo journalctl -u teaching_panel -n 50 --no-pager
```

–ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π: —Å–º. `MANUAL_DEPLOY_GUIDE.md` (Google Drive, FFmpeg, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è).

---

## 7. Smoke-—Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

- Health/–≥–ª–∞–≤–Ω–∞—è: –æ—Ç–≤–µ—Ç 200, –æ—à–∏–±–æ–∫ –Ω–µ—Ç –≤ –ª–æ–≥–∞—Ö.
- –õ–æ–≥–∏–Ω/–ª–æ–≥–∞—É—Ç: —Ç–æ–∫–µ–Ω—ã –µ—Å—Ç—å, 401/403 –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.
- –°–ø–∏—Å–∫–∏: –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä—ã.
- –£—Ä–æ–∫/Zoom: —Å–æ–∑–¥–∞—ë—Ç—Å—è —É—Ä–æ–∫, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è Zoom —Å—Å—ã–ª–∫–∞, —Å—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.
- –ó–∞–ø–∏—Å—å: —Å—Ç–∞—Ç—É—Å queue ‚Üí available, —Å—Å—ã–ª–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç.
- –ë–∞–Ω–Ω–µ—Ä –ø–æ–¥–ø–∏—Å–∫–∏: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏, CTA –≤–µ–¥—ë—Ç –∫ –æ–ø–ª–∞—Ç–µ.

---

## 8. Next Steps: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–ª–∏–∑—ã

- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è smoke –Ω–∞ –ø—Ä–æ–¥–µ: GitHub Actions job –¥–ª—è API-–ø–∏–Ω–≥–æ–≤ –∏ –±–∞–∑–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
- –†–µ–≥—É–ª—è—Ä–Ω—ã–π UI/UX –∞—É–¥–∏—Ç: –º–µ—Ç—Ä–∏–∫–∏ Lighthouse, —Å–ø–∏—Å–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
- –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Å–º. `LOAD_TESTING_GUIDE.md` ‚Äî Zoom –ø—É–ª, Celery, Redis.
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: –∞–ª–µ—Ä—Ç—ã –Ω–∞ `journalctl` –æ—à–∏–±–∫–∏, 5xx Nginx, –ø–∞–¥–µ–Ω–∏—è Celery.
- –†–æ–ª–ª–±–µ–∫: —à–∞–≥–∏ –≤ `DEPLOYMENT_GUIDE.md`; –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–≤–µ–∂–∏–µ –±—ç–∫–∞–ø—ã –ë–î.

---

## 9. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–¥ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
sudo systemctl status teaching_panel
sudo systemctl status celery
sudo tail -f /var/log/nginx/error.log
redis-cli ping
psql -U <db_user> -d <db_name> -h localhost
```

---

## 10. –°—Å—ã–ª–∫–∏

- DEPLOYMENT_GUIDE.md ‚Äî –æ–±—â–∏–π –ø—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ–π –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è
- MANUAL_DEPLOY_GUIDE.md ‚Äî —Ä—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, FFmpeg
- LOAD_TESTING_GUIDE.md ‚Äî –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- RECORDINGS_STORAGE_INTERFACE_GUIDE.md ‚Äî –∑–∞–ø–∏—Å–∏ –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

# ğŸ“Š ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸

## ĞĞ±Ñ‰Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ•Ğ›Ğ¬                             â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  React Frontend (http://localhost:3000)                   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  HomePage.js   â”‚  â”‚ TeacherHome.js â”‚  â”‚ StudentHome â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚           â”‚                   â”‚                  â”‚         â”‚  â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚
â”‚  â”‚                               â”‚                            â”‚  â”‚
â”‚  â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚  â”‚
â”‚  â”‚                      â”‚ SupportWidget   â”‚ â—„â”€â”€â”€ ĞŸĞ»Ğ°Ğ²Ğ°ÑÑ‰Ğ°Ñ   â”‚  â”‚
â”‚  â”‚                      â”‚   (ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚)   â”‚      ĞºĞ½Ğ¾Ğ¿ĞºĞ°      â”‚  â”‚
â”‚  â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚ API Calls (JWT)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Django REST API            â”‚
                    â”‚  (http://localhost:8000)    â”‚
                    â”‚                             â”‚
                    â”‚  /api/support/tickets/      â”‚
                    â”‚  /api/support/unread-count/ â”‚
                    â”‚  /api/support/.../add_message/â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                      â”‚                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  SupportTicket â”‚    â”‚ SupportMessage â”‚    â”‚  QuickSupport  â”‚
    â”‚    (Model)     â”‚    â”‚    (Model)     â”‚    â”‚    Response    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ save() trigger
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Telegram Notification System                             â”‚
    â”‚                                                            â”‚
    â”‚  _send_telegram_notification()                            â”‚
    â”‚  â”œâ”€ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½ (SUPPORT_BOT_TOKEN)                   â”‚
    â”‚  â”œâ”€ ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ²ÑĞµÑ… is_staff=True Ñ telegram_id             â”‚
    â”‚  â””â”€ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ñ‡ĞµÑ€ĞµĞ· Telegram API                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Telegram Bot API      â”‚
                    â”‚  (api.telegram.org)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                        â”‚                        â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ Admin1 â”‚              â”‚ Admin2  â”‚              â”‚ Admin3 â”‚
    â”‚Telegramâ”‚              â”‚Telegram â”‚              â”‚Telegramâ”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚                        â”‚                        â”‚
        â”‚  /view_5               â”‚  /reply 7 ĞÑ‚Ğ²ĞµÑ‚       â”‚  /tickets
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   support_bot.py        â”‚
                    â”‚  (Telegram Bot Server)  â”‚
                    â”‚                         â”‚
                    â”‚  ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:               â”‚
                    â”‚  â”œâ”€ /start              â”‚
                    â”‚  â”œâ”€ /tickets            â”‚
                    â”‚  â”œâ”€ /view_<id>          â”‚
                    â”‚  â”œâ”€ /reply <id> <text>  â”‚
                    â”‚  â”œâ”€ /my                 â”‚
                    â”‚  â””â”€ /stats              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ Django ORM
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   PostgreSQL Database   â”‚
                    â”‚   (Ğ¸Ğ»Ğ¸ SQLite dev)      â”‚
                    â”‚                         â”‚
                    â”‚  Tables:                â”‚
                    â”‚  â”œâ”€ support_ticket      â”‚
                    â”‚  â”œâ”€ support_message     â”‚
                    â”‚  â””â”€ accounts_customuser â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ¸ĞºĞµÑ‚Ğ°

```
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ½Ğ°Ğ¶Ğ¸Ğ¼Ğ°ĞµÑ‚ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸
   â””â”€> SupportWidget.js Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ
       â””â”€> Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ñ„Ğ¾Ñ€Ğ¼Ñƒ
           â””â”€> POST /api/support/tickets/
               â””â”€> SupportTicketViewSet.create()
                   â””â”€> SupportTicket.save()
                       â”œâ”€> Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ² Ğ‘Ğ”
                       â””â”€> Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ _send_telegram_notification()
                           â””â”€> ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ POST Ğ½Ğ° api.telegram.org
                               â””â”€> ĞĞ´Ğ¼Ğ¸Ğ½Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ ğŸ””
```

## ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: ĞÑ‚Ğ²ĞµÑ‚ Ğ¸Ğ· Telegram

```
1. ĞĞ´Ğ¼Ğ¸Ğ½ Ğ² Telegram: /reply 5 ĞÑ‚Ğ²ĞµÑ‚
   â””â”€> Telegram Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ² support_bot.py
       â””â”€> reply_ticket() Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ
           â””â”€> SupportMessage.objects.create()
               â”œâ”€> Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ğ‘Ğ”
               â”œâ”€> ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ ticket.status
               â””â”€> Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ² Telegram

2. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ½Ğ° Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğµ
   â””â”€> SupportWidget Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 30 ÑĞµĞº)
       â””â”€> GET /api/support/tickets/{id}/
           â””â”€> Ğ’Ğ¸Ğ´Ğ¸Ñ‚ Ğ½Ğ¾Ğ²Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ âœ…
```

## ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: ĞÑ‚Ğ²ĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

```
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¿Ğ¸ÑˆĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² SupportWidget
   â””â”€> POST /api/support/tickets/{id}/add_message/
       â””â”€> SupportTicketViewSet.add_message()
           â”œâ”€> Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ SupportMessage (is_staff_reply=False)
           â””â”€> Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ _notify_admins_new_message()
               â””â”€> ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ POST Ğ½Ğ° api.telegram.org
                   â””â”€> ĞĞ´Ğ¼Ğ¸Ğ½(Ñ‹) Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ ğŸ’¬

2. ĞĞ´Ğ¼Ğ¸Ğ½ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Telegram
   â””â”€> Ğ’Ğ¸Ğ´Ğ¸Ñ‚ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ
       â””â”€> /view_5
           â””â”€> ĞŸÑ€Ğ¾ÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸
               â””â”€> ĞŸĞ¸ÑˆĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚
                   â””â”€> Ğ¦Ğ¸ĞºĞ» Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞµÑ‚ÑÑ
```

## ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ¸ Ğ¸Ñ… Ñ€Ğ¾Ğ»Ğ¸

### Frontend Layer
```
SupportWidget.js
â”œâ”€ Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ:
â”‚  â”œâ”€ isOpen (Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚/Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚)
â”‚  â”œâ”€ tickets[] (ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ‚Ğ¸ĞºĞµÑ‚Ğ¾Ğ²)
â”‚  â”œâ”€ currentTicket (Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¹)
â”‚  â”œâ”€ messages[] (ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ)
â”‚  â””â”€ unreadCount (Ğ½ĞµĞ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğµ)
â”‚
â”œâ”€ Ğ­Ñ„Ñ„ĞµĞºÑ‚Ñ‹:
â”‚  â”œâ”€ loadTickets() â†’ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 30 ÑĞµĞº
â”‚  â””â”€ loadUnreadCount() â†’ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 30 ÑĞµĞº
â”‚
â””â”€ Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ:
   â”œâ”€ createTicket() â†’ POST /tickets/
   â”œâ”€ openTicket() â†’ GET /tickets/{id}/
   â””â”€ sendMessage() â†’ POST /tickets/{id}/add_message/
```

### Backend Layer
```
support/views.py
â”œâ”€ SupportTicketViewSet
â”‚  â”œâ”€ list() â†’ GET /tickets/
â”‚  â”œâ”€ create() â†’ POST /tickets/
â”‚  â”œâ”€ retrieve() â†’ GET /tickets/{id}/
â”‚  â”œâ”€ add_message() â†’ POST /tickets/{id}/add_message/
â”‚  â”œâ”€ mark_read() â†’ POST /tickets/{id}/mark_read/
â”‚  â”œâ”€ resolve() â†’ POST /tickets/{id}/resolve/
â”‚  â””â”€ reopen() â†’ POST /tickets/{id}/reopen/
â”‚
â””â”€ Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸-Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸ĞºĞ¸:
   â”œâ”€ get_unread_count() â†’ GET /unread-count/
   â”œâ”€ get_quick_responses() â†’ GET /quick-responses/
   â””â”€ _notify_admins_new_message()
```

### Telegram Layer
```
support_bot.py
â”œâ”€ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
â”‚  â”œâ”€ /start â†’ Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ°
â”‚  â”œâ”€ /tickets â†’ Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ñ…
â”‚  â”œâ”€ /my â†’ ĞœĞ¾Ğ¸ Ñ‚Ğ¸ĞºĞµÑ‚Ñ‹
â”‚  â”œâ”€ /view_<id> â†’ Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ñ‚Ğ¸ĞºĞµÑ‚Ğ°
â”‚  â”œâ”€ /reply â†’ ĞÑ‚Ğ²ĞµÑ‚ Ğ½Ğ° Ñ‚Ğ¸ĞºĞµÑ‚
â”‚  â””â”€ /stats â†’ Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
â”‚
â”œâ”€ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸:
â”‚  â”œâ”€ handle_message() â†’ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹
â”‚  â””â”€ button_callback() â†’ ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
â”‚
â””â”€ Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ:
   â”œâ”€ notify_new_ticket() (Ğ¸Ğ· models.py)
   â””â”€ notify_new_message() (Ğ¸Ğ· views.py)
```

## Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ¸Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ğ£Ñ€Ğ¾Ğ²Ğ½Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  STUDENT/USER:                                   â”‚
â”‚  â”œâ”€ Ğ’Ğ¸Ğ´Ğ¸Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑĞ²Ğ¾Ğ¸ Ñ‚Ğ¸ĞºĞµÑ‚Ñ‹                    â”‚
â”‚  â”œâ”€ ĞœĞ¾Ğ¶ĞµÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ Ñ‚Ğ¸ĞºĞµÑ‚Ñ‹                      â”‚
â”‚  â”œâ”€ ĞœĞ¾Ğ¶ĞµÑ‚ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ² ÑĞ²Ğ¾Ğ¸ Ñ‚Ğ¸ĞºĞµÑ‚Ñ‹                  â”‚
â”‚  â””â”€ ĞĞµ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ñ‚Ğ¸ĞºĞµÑ‚Ñ‹ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹        â”‚
â”‚                                                  â”‚
â”‚  TEACHER/ADMIN (is_staff=True):                  â”‚
â”‚  â”œâ”€ Ğ’Ğ¸Ğ´Ğ¸Ñ‚ Ğ’Ğ¡Ğ• Ñ‚Ğ¸ĞºĞµÑ‚Ñ‹                            â”‚
â”‚  â”œâ”€ ĞœĞ¾Ğ¶ĞµÑ‚ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ñ‚Ğ¸ĞºĞµÑ‚Ñ‹                      â”‚
â”‚  â”œâ”€ ĞœĞ¾Ğ¶ĞµÑ‚ Ğ¼ĞµĞ½ÑÑ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹                        â”‚
â”‚  â”œâ”€ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Telegram-ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ               â”‚
â”‚  â””â”€ ĞœĞ¾Ğ¶ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°Ñ‚ÑŒ Ğ¸Ğ· Telegram                  â”‚
â”‚                                                  â”‚
â”‚  SUPERUSER:                                      â”‚
â”‚  â”œâ”€ Ğ’ÑÑ‘ Ñ‡Ñ‚Ğ¾ Ğ²Ñ‹ÑˆĞµ +                              â”‚
â”‚  â”œâ”€ Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Django Admin                       â”‚
â”‚  â”œâ”€ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²                    â”‚
â”‚  â””â”€ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸                   â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Ğ´Ğ¾ 1000 Ñ‚Ğ¸ĞºĞµÑ‚Ğ¾Ğ²/Ğ´ĞµĞ½ÑŒ):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Django   â”‚â”€â”€â”€â–¶â”‚ SQLite/  â”‚â—€â”€â”€â”€â”‚ Telegram â”‚
â”‚ Server   â”‚    â”‚PostgreSQLâ”‚    â”‚   Bot    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞŸÑ€Ğ¸ Ñ€Ğ¾ÑÑ‚Ğµ (1000+ Ñ‚Ğ¸ĞºĞµÑ‚Ğ¾Ğ²/Ğ´ĞµĞ½ÑŒ):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Django   â”‚â”€â”€â”€â–¶â”‚PostgreSQLâ”‚â—€â”€â”€â”€â”‚ Telegram â”‚
â”‚ Server   â”‚    â”‚  Cluster â”‚    â”‚   Bot    â”‚
â”‚ (Gunicornâ”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ +Nginx)  â”‚         â–²                â–²
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â”‚                â”‚
      â”‚              â”‚                â”‚
      â–¼         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  Redis  â”‚      â”‚ Celery  â”‚
â”‚  Celery  â”‚â—€â”€â–¶â”‚  Cache  â”‚      â”‚ Workers â”‚
â”‚  Worker  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Celery Tasks:                      â”‚
â”‚  â”œâ”€ ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Telegram  â”‚
â”‚  â”œâ”€ ĞĞ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ñ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹          â”‚
â”‚  â””â”€ ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° ÑÑ‚Ğ°Ñ€Ñ‹Ñ… Ñ‚Ğ¸ĞºĞµÑ‚Ğ¾Ğ²         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```
Application Layer:
â”œâ”€ Django Logs â†’ /var/log/django/app.log
â”œâ”€ Bot Logs â†’ /var/log/support-bot/bot.log
â””â”€ Nginx Logs â†’ /var/log/nginx/access.log

Database Layer:
â”œâ”€ Query Logs â†’ PostgreSQL logs
â””â”€ Slow Queries â†’ pgbadger analysis

Telegram Layer:
â”œâ”€ API Errors â†’ Bot error handler
â”œâ”€ Rate Limits â†’ Exponential backoff
â””â”€ Message Queue â†’ Failed sends retry

Metrics:
â”œâ”€ Tickets Created/Day
â”œâ”€ Avg Response Time
â”œâ”€ Tickets by Status
â”œâ”€ Tickets by Priority
â””â”€ Admin Activity
```

## Ğ ĞµĞ·ÑĞ¼Ğµ

**Ğ¡Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹:**
- âœ… ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
- âœ… Ğ›ĞµĞ³ĞºĞ¾ Ñ€Ğ°ÑÑˆĞ¸Ñ€ÑĞµĞ¼Ğ°Ñ
- âœ… Ğ”Ğ²ÑƒÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½ÑÑ Telegram-Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- âœ… Real-time updates
- âœ… Mobile-friendly

**Ğ¢Ğ¾Ñ‡ĞºĞ¸ Ñ€Ğ¾ÑÑ‚Ğ°:**
- WebSocket Ğ´Ğ»Ñ real-time (Ğ²Ğ¼ĞµÑÑ‚Ğ¾ polling)
- Celery Ğ´Ğ»Ñ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡
- Redis Ğ´Ğ»Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- Elasticsearch Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
- Grafana Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°

**Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑÑ‚Ğ°Ñ‚ÑƒÑ:** Production-ready Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°! ğŸš€

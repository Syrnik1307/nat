# Быстрый деплой Teaching Panel

Краткая документация по ускоренному деплою фронтенда и бэкенда.

## Скрипты

- deploy_fast.ps1 — быстрый деплой (рекомендуется)
- deploy_to_prod.ps1 — полный деплой (стабильный)
- auto_deploy.ps1 — старый универсальный (медленный)

## Быстрый деплой (рекомендуется)

### Полный быстрый деплой (без переустановки зависимостей)

```
.
\deploy_fast.ps1 -SkipDeps
```

Когда использовать: менялся только код (JS/Python), не трогали зависимости.

### Только фронтенд

```
.
\deploy_fast.ps1 -FrontendOnly
```

Когда использовать: правки только во frontend/.

### Только бэкенд

```
.
\deploy_fast.ps1 -BackendOnly
```

Когда использовать: правки только в teaching_panel/.

### Полный деплой с зависимостями

```
.
\deploy_fast.ps1
```

Когда использовать: изменились package.json/package-lock.json или requirements.txt.

## Полный деплой (стабильный, но медленный)

```
.
\deploy_to_prod.ps1
```

### Пропустить фронтенд

```
.
\deploy_to_prod.ps1 -SkipFrontend
```

### Пропустить миграции

```
.
\deploy_to_prod.ps1 -SkipMigrations
```

## Что замедляет деплой

1. npm install — самый долгий шаг.
2. npm run build — 1–3 минуты на сервере.
3. pip install — 1–2 минуты при каждом запуске.

Рекомендация: использовать deploy_fast.ps1 с -SkipDeps, если зависимости не менялись.

## Мини-чеклист

1. Если менялись зависимости — запускать полный деплой.
2. Если менялся только код — использовать быстрый деплой.
3. Если изменения только на фронте/бэке — запускать частичный деплой.

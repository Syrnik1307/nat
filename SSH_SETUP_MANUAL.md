# üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ SSH –∫–ª–∏–µ–Ω—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (OpenSSH_for_Windows_10.0p2)
2. ‚úÖ SSH –∫–ª—é—á–∏ —Å–æ–∑–¥–∞–Ω—ã –≤ `C:\Users\User\.ssh\id_rsa`

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å SSH –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–£ –≤–∞—Å –µ—Å—Ç—å 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞:

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ PowerShell (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

**–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø–∞—Ä–æ–ª—å root:**

```powershell
type $env:USERPROFILE\.ssh\id_rsa.pub | ssh root@72.56.81.163 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 700 ~/.ssh && chmod 600 ~/.ssh/authorized_keys"
```

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å root –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å–∏—Ç.

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –≤–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º

**–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, cPanel, Plesk, ISPmanager):**

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "SSH Keys" –∏–ª–∏ "–ö–ª—é—á–∏ SSH"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞:

```powershell
Get-Content $env:USERPROFILE\.ssh\id_rsa.pub
```

**–í–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á:**
```
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDNrE+ciMkL4mfMbIaCpgBVG2eqaJNG5gfRcXUl9rIPYSbEOTjNfAkU8EX1hmCrewiyRfh8E8oXE80YRkYIimmxWgUCzsKX+bK9MnWQA2NLCXiCUdS+qshUG4tLEQZf8Q1w0vdd/Gvy61264zPJlIQ/puBI2871vvbIT5N4xnpZgVgUh7mWqe2Jz51z4H+MkxzBN0m6VsbUtES48Aw9h3IKU6JktYwNfBF1Dzt55mS86Igj3Ex9AxfL24NXk4mU75LTLxViZ80Vfxr8fQbQI6fsusuO0BrzlUmKrnRwmRsI0nUcgelRIQYnlESGKdCn36c4N3C64/7y0EqXBpdv4ZmcoFpXce1SUi/OXD085nIDNatd0RJk1Jwo2H4m2kDkC/k68As5/JN7rObXaBHvn0A3PigAGRl+J8LUBuX2bUEO/89z3FQCeGsR+iMGalJaJcQvl+jw/CFHenBbYUPrcM/7SBEiPOUu6LJD5e/CPHe8rN4SqK49HDpjaqdHTGZSorP5+WLr7dnyPOLAxrfxEsRE8xHMCQk6OfhwMkMeZY8ovNsfepuZqfmIFWYpmxHEvSXYjgoljzIJRMuzbAlfHP6aKzdCyyv4SBxgjUb3SVdkSwcpT9eRGyJzXYE9cTC28T22Vg8p6gxTAQVF5lY7LlUg9bb4scqVRJFjlBb3bMQlYQ== user@DESKTOP-EH83ODC
```

4. –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á –≤ –ø–æ–ª–µ "Authorized Keys" –∏–ª–∏ "–ü—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏"
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ SSH —Ç–µ—Ä–º–∏–Ω–∞–ª (PuTTY –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–ª–∏–µ–Ω—Ç)

**–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π SSH –∫–ª–∏–µ–Ω—Ç (PuTTY, MobaXterm –∏ —Ç.–¥.):**

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ PowerShell:
```powershell
Get-Content $env:USERPROFILE\.ssh\id_rsa.pub | clip
```
–ö–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É `72.56.81.163` —á–µ—Ä–µ–∑ –≤–∞—à SSH –∫–ª–∏–µ–Ω—Ç (PuTTY –∏ —Ç.–¥.)

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è SSH –∫–ª—é—á–µ–π
mkdir -p ~/.ssh

# –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
nano ~/.ssh/authorized_keys

# –í—Å—Ç–∞–≤–∏—Ç—å –∫–ª—é—á (–ø—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ –∏–ª–∏ Shift+Insert)
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å: Ctrl+O, Enter, Ctrl+X

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 4: –ü–æ–ø—Ä–æ—Å–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É:

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á:
```powershell
Get-Content $env:USERPROFILE\.ssh\id_rsa.pub
```

2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–µ—Ä–≤–µ—Ä–∞
3. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª `/root/.ssh/authorized_keys` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ `72.56.81.163`

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```powershell
ssh root@72.56.81.163 "echo 'SSH works!'"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
SSH works!
```

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è - –≤—Å—ë –≥–æ—Ç–æ–≤–æ! üéâ

---

## üöÄ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSH, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```powershell
.\auto_deploy.ps1
```

–¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –ø—Ä–æ–±–ª–µ–º!

---

## ‚ö†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied"

**–†–µ—à–µ–Ω–∏–µ 1:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

**–†–µ—à–µ–Ω–∏–µ 2:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```bash
cat ~/.ssh/authorized_keys
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞—à –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å ssh-rsa)
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –∏ SSH –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç
```powershell
Test-NetConnection -ComputerName 72.56.81.163 -Port 22
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç passphrase –¥–ª—è –∫–ª—é—á–∞

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª—é—á–∞ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä–æ–ª—å. –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:

**–í–∞—Ä–∏–∞–Ω—Ç 1:** –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á –±–µ–∑ –ø–∞—Ä–æ–ª—è
```powershell
ssh-keygen -t rsa -b 4096 -f $env:USERPROFILE\.ssh\id_rsa_new -N '""'
```

**–í–∞—Ä–∏–∞–Ω—Ç 2:** –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á –≤ ssh-agent
```powershell
Start-Service ssh-agent
ssh-add $env:USERPROFILE\.ssh\id_rsa
```

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: `AUTO_DEPLOY_GUIDE_NEW.md`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: `.\setup_ssh.ps1` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç 2
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–µ—Ä–≤–µ—Ä–∞

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 29 –Ω–æ—è–±—Ä—è 2025 –≥.

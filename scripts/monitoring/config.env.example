# ============================================================
# LECTIO MONITOR CONFIGURATION
# ============================================================
# Расположение на сервере: /opt/lectio-monitor/config.env
# ============================================================

# ==================== TELEGRAM - ERRORS BOT ====================
# Отдельный бот для уведомлений об ошибках сайта, падениях и восстановлениях
# Создать бота: https://t.me/BotFather
# Получить chat_id: отправить сообщение боту, затем открыть:
# https://api.telegram.org/bot<TOKEN>/getUpdates

ERRORS_BOT_TOKEN="YOUR_ERRORS_BOT_TOKEN_HERE"
ERRORS_CHAT_ID="YOUR_ERRORS_CHAT_ID_HERE"

# DEPRECATED: Старые переменные (для обратной совместимости)
# Если ERRORS_BOT_TOKEN не задан, используется TELEGRAM_BOT_TOKEN
TELEGRAM_BOT_TOKEN=""
TELEGRAM_CHAT_ID=""

# ==================== SITE SETTINGS ====================
SITE_URL="https://lectiospace.ru"
API_URL="https://lectiospace.ru/api/health/"

# ==================== PATHS ====================
PROJECT_ROOT="/var/www/teaching_panel"
FRONTEND_BUILD="/var/www/teaching_panel/frontend/build"
BACKUP_DIR="/var/www/teaching_panel/backups"
LOG_DIR="/var/log/lectio-monitor"

# ==================== SERVICES ====================
BACKEND_SERVICE="teaching_panel"
NGINX_SERVICE="nginx"

# ==================== THRESHOLDS ====================
MAX_RESPONSE_TIME=5           # секунды
MAX_RECOVERY_ATTEMPTS=3       # попыток перед cooldown
RECOVERY_COOLDOWN=300         # секунды (5 минут)
BACKUP_RETENTION_DAYS=7       # дней хранения бэкапов
MIN_FREE_DISK_PERCENT=10      # минимум свободного места
MIN_FREE_MEMORY_MB=256        # минимум свободной памяти

# ==================== MONITORING ====================
HEALTH_CHECK_INTERVAL=60      # секунды (для cron: */1)
DETAILED_CHECK_INTERVAL=300   # секунды (для cron: */5)

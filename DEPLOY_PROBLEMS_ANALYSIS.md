# üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –¥–µ–ø–ª–æ—è Teaching Panel

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 7 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–°—Ç–∞—Ç—É—Å:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ù–ê–ô–î–ï–ù–´

---

## üìä –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #1: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–º–µ–Ω systemd —Å–µ—Ä–≤–∏—Å–æ–≤

**–°–∏–º–ø—Ç–æ–º:** –ö–æ–º–∞–Ω–¥—ã `systemctl restart teaching-panel` –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–æ–π "Unit could not be found"

**–ü—Ä–∏—á–∏–Ω–∞:**
- –†–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è: `teaching_panel.service` (—Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º)
- –°–∫—Ä–∏–ø—Ç—ã –ø—ã—Ç–∞—é—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `teaching-panel` (—Å –¥–µ—Ñ–∏—Å–æ–º)

**–ì–¥–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è:**
```powershell
# deploy_to_production.ps1 —Å—Ç—Ä–æ–∫–∞ 39
ssh tp "sudo systemctl restart teaching-panel 2>/dev/null"  # ‚ùå –ù–ï–í–ï–†–ù–û

# deploy_to_production.ps1 —Å—Ç—Ä–æ–∫–∞ 363
$status = ssh tp "systemctl is-active teaching-panel"  # ‚ùå –ù–ï–í–ï–†–ù–û

# deploy_to_production.ps1 —Å—Ç—Ä–æ–∫–∞ 366
ssh tp "sudo journalctl -u teaching-panel -n 30"  # ‚ùå –ù–ï–í–ï–†–ù–û

# deploy.ps1 —Å—Ç—Ä–æ–∫–∏ 75, 97
sudo systemctl restart teaching-panel  # ‚ùå –ù–ï–í–ï–†–ù–û
sudo systemctl restart teaching-panel-staging  # ‚ùå –ù–ï–í–ï–†–ù–û

# deploy_simple.ps1 —Å—Ç—Ä–æ–∫–∏ 38, 44
$service = 'teaching-panel'  # ‚ùå –ù–ï–í–ï–†–ù–û

# deploy_multi.ps1 —Å—Ç—Ä–æ–∫–∏ 16, 26, 36
Service = 'teaching-panel'  # ‚ùå –ù–ï–í–ï–†–ù–û
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞:**
```bash
systemctl status teaching_panel.service  # ‚úÖ –í–ï–†–ù–û
```

**–§–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```
/etc/systemd/system/teaching_panel.service
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- üî• **–°–µ—Ä–≤–∏—Å –ù–ï –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ**
- üî• **–°—Ç–∞—Ä—ã–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ git pull**
- üî• **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ Python –∫–æ–¥–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è**
- üî• **–°–∫—Ä–∏–ø—Ç "—É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è" –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**

---

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #2: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π Gunicorn

**–°–∏–º–ø—Ç–æ–º:** –ù–µ—è—Å–Ω–æ –∫–∞–∫–æ–π worker class –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–§–∞–π–ª—ã:**
1. **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å** `/etc/systemd/system/teaching_panel.service`:
   ```systemd
   ExecStart=/var/www/teaching_panel/venv/bin/gunicorn \
       --workers 5 \
       --worker-class gevent \
       --worker-connections 1000
   ```

2. **Override** `/etc/systemd/system/teaching_panel.service.d/override.conf`:
   ```systemd
   [Service]
   ExecStart=
   ExecStart=/var/www/teaching_panel/venv/bin/gunicorn \
       --workers 4 \
       --threads 5 \
       --worker-class gthread
   ```

**–ß—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω–æ:**
```bash
ps aux | grep gunicorn
# --workers 4 --threads 5 --worker-class gthread
# ‚úÖ Override –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è Django)
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —É—Å—Ç–∞—Ä–µ–ª (—Å–æ–¥–µ—Ä–∂–∏—Ç gevent –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å Django ORM)
- Override —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –≤–≤–æ–¥–∏—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –û–±–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª `.service` –¥–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –£–¥–∞–ª–∏—Ç—å override –µ—Å–ª–∏ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω
- –ò–ª–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—á–µ–º—É –Ω—É–∂–µ–Ω override

---

### üü† –í–ê–ñ–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #3: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Health Checks

**–°–∏–º–ø—Ç–æ–º:** –°–∫—Ä–∏–ø—Ç—ã –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ –¥–∞–∂–µ –µ—Å–ª–∏ —Å–∞–π—Ç —É–ø–∞–ª

**–ê–Ω–∞–ª–∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤:**

‚úÖ **deploy_to_production.ps1** - –•–û–†–û–®–û:
```powershell
# –®–∞–≥ 0: –ü—Ä–æ–≤–µ—Ä–∫–∞ –î–û –¥–µ–ø–ª–æ—è
$prodBefore = ssh tp "curl -s -o /dev/null -w '%{http_code}' https://lectiospace.ru/api/health/"
if ($prodBefore -ne "200") { exit 1 }

# –®–∞–≥ 9: Smoke tests –ü–û–°–õ–ï –¥–µ–ø–ª–æ—è
$healthCheck = ssh tp "curl -s -o /dev/null -w '%{http_code}' https://lectiospace.ru/api/health/"
if ($healthCheck -ne "200") { Rollback-Changes; exit 1 }
```

‚ùå **auto_deploy.ps1** - –ü–õ–û–•–û:
```powershell
# –ü—Ä–æ—Å—Ç–æ restart –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
Invoke-RemoteCommand -Command "sudo systemctl restart teaching_panel"
# –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å—Ç–∏–ª—Å—è!
```

‚ùå **deploy.ps1** - –ü–õ–û–•–û:
```powershell
ssh root@lectiospace.ru "... && sudo systemctl restart teaching-panel"
# –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞!
```

‚ùå **quick_deploy.ps1** - –ü–õ–û–•–û:
```powershell
$deployCmd = "... && sudo systemctl restart teaching_panel && echo 'Deployment completed!'"
# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ exit code systemctl, –Ω–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- üî• **–°–∞–π—Ç –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è, –Ω–æ —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç "—É—Å–ø–µ—Ö"**
- üî• **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–∏–¥—è—Ç 500 –æ—à–∏–±–∫—É —Ä–∞–Ω—å—à–µ —á–µ–º –º—ã —É–∑–Ω–∞–µ–º –æ –ø—Ä–æ–±–ª–µ–º–µ**
- üî• **–ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫–∞—Ç–∞ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏**

---

### üü† –í–ê–ñ–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê #4: –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Frontend build

**–°–∏–º–ø—Ç–æ–º:** –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è nginx –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å 403 Forbidden

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ–ª–∞–µ—Ç —Ç–æ–ª—å–∫–æ:** `deploy_frontend.ps1`
```powershell
ssh tp "sudo chown -R www-data:www-data /var/www/teaching_panel/frontend/build && sudo chmod -R 755 /var/www/teaching_panel/frontend/build"
```

**–ù–ï–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- `deploy_to_production.ps1` - –¥–µ–ª–∞–µ—Ç `fix_permissions()` —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ bash —Ñ—É–Ω–∫—Ü–∏–∏ deploy_safe.sh
- `auto_deploy.ps1` - –ù–ï–¢ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤ –ø–æ—Å–ª–µ npm build!
- `deploy.ps1` - –ù–ï–¢ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤

**–ö–∞–∫ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞:**
1. `npm run build` –Ω–∞ Windows —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã —Å –ø—Ä–∞–≤–∞–º–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. `scp` –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∞–≤–∞ –ò–õ–ò —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –ø—Ä–∞–≤–∞ ssh –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (root)
3. nginx –∑–∞–ø—É—â–µ–Ω –ø–æ–¥ `www-data`
4. nginx –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª—ã ‚Üí 403 Forbidden

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- üî• **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è (–±–µ–ª—ã–π —ç–∫—Ä–∞–Ω)**
- üî• **Nginx –ª–æ–≥–∏: "Permission denied"**
- üî• **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –æ—à–∏–±–∫—É**

---

### üü° –°–†–ï–î–ù–Ø–Ø –ü–†–û–ë–õ–ï–ú–ê #5: –ù–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π –∑–∞–º–µ–Ω—ã frontend

**–°–∏–º–ø—Ç–æ–º:** –ü—Ä–∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω 15-30 —Å–µ–∫—É–Ω–¥

**–•–æ—Ä–æ—à–æ –¥–µ–ª–∞–µ—Ç:** `deploy_to_production.ps1` (—Å—Ç—Ä–æ–∫–∏ 246-274)
```powershell
# –°–±–æ—Ä–∫–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
BUILD_PATH=/var/www/teaching_panel/frontend/build_new npm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –Ω–æ–≤—ã–π –±–∏–ª–¥ –≤–∞–ª–∏–¥–Ω—ã–π
test -f build_new/index.html && grep 'main\.\w+\.js' build_new/index.html

# –ê–¢–û–ú–ê–†–ù–ê–Ø –∑–∞–º–µ–Ω–∞ (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
mv build build_old && mv build_new build && nginx -s reload
```

**–ü–ª–æ—Ö–æ –¥–µ–ª–∞—é—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:**
```powershell
# –ù–ï–∞—Ç–æ–º–∞—Ä–Ω–æ - —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–π –±–∏–ª–¥ –î–û –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ
rm -rf build/
npm run build  # ‚Üê —Å–∞–π—Ç –ù–ï–î–û–°–¢–£–ü–ï–ù –ø–æ–∫–∞ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (15-30 —Å–µ–∫)
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- üî• **–î–∞—É–Ω—Ç–∞–π–º 15-30 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**
- üî• **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç 404 Not Found –¥–ª—è index.html**
- üî• **–ü–ª–æ—Ö–æ–π UX**

---

### üü° –°–†–ï–î–ù–Ø–Ø –ü–†–û–ë–õ–ï–ú–ê #6: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

**–¢–µ–∫—É—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è (16 —à—Ç—É–∫!):**
```
deploy_to_production.ps1  ‚úÖ –õ—É—á—à–∏–π (–±—ç–∫–∞–ø—ã, –æ—Ç–∫–∞—Ç, health checks)
auto_deploy.ps1            ‚ö†Ô∏è –•–æ—Ä–æ—à–∏–π UI, –Ω–æ –Ω–µ—Ç health checks
deploy.ps1                 ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–π (–Ω–µ–≤–µ—Ä–Ω—ã–µ –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤)
deploy_frontend.ps1        ‚úÖ –•–æ—Ä–æ—à–∏–π (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞)
deploy_simple.ps1          ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–µ –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
deploy_quick.ps1           ‚ùå –°–ª–∞–±—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
deploy_multi.ps1           ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–µ –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
deploy_final.ps1           ‚ùì –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª—Å—è
deploy_fast.ps1            ‚ùì –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª—Å—è
deploy_csp.ps1             ‚ùì –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π
deploy_heatmap.ps1         ‚ùì –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π
deploy_lectio_space.ps1    ‚ùì –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π
deploy_to_prod.ps1         ‚ùì –î—É–±–ª–∏–∫–∞—Ç?
deploy_prod.sh             ‚ùì Bash –≤–µ—Ä—Å–∏—è
manual_deploy.ps1          ‚ùì –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª—Å—è
scripts/deploy_safe.ps1    ‚ùì –ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª—Å—è
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–æ–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –≤–≤–æ–¥—è—Ç –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ
- –¢—Ä–∞—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –≤—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
- –†–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–º–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –•–û–†–û–®–û:

1. **Gunicorn –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–ø—É—â–µ–Ω—ã —Å—Ç–∞–±–∏–ª—å–Ω–æ** (14+ —á–∞—Å–æ–≤ uptime)
2. **Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** (SSL, gzip, security headers)
3. **Frontend –±–∏–ª–¥ —Å–≤–µ–∂–∏–π** (–æ—Ç 6 —Ñ–µ–≤—Ä–∞–ª—è 2026)
4. **Health endpoint –æ—Ç–≤–µ—á–∞–µ—Ç** (/api/health/ ‚Üí 200 OK –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç** (unified_monitor.sh –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ** (/var/log/teaching_panel/)
7. **Systemd service –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω** (Type=notify, Restart=always)

### ‚ö†Ô∏è –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞:

1. **–ù–µ—Ç –ª–æ–≥–æ–≤ –≤ journalctl** –¥–ª—è teaching_panel.service
   - –í–æ–∑–º–æ–∂–Ω–æ StandardOutput redirect –Ω–∞ —Ñ–∞–π–ª—ã, –Ω–æ –∂—É—Ä–Ω–∞–ª –ø—É—Å—Ç
   - –≠—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É —á–µ—Ä–µ–∑ `journalctl -u teaching_panel`

2. **Celery —Å–µ—Ä–≤–∏—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã**
   - –í —Å–∫—Ä–∏–ø—Ç–∞—Ö —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è `celery-worker`, `celery_worker`, `celery-beat`
   - –í —Å–ø–∏—Å–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Ö –Ω–µ—Ç
   - –í–æ–∑–º–æ–∂–Ω–æ Celery –æ—Ç–∫–ª—é—á–µ–Ω? (—Å–º. CELERY_REMOVAL_COMPLETE.md)

3. **Staging –∏ Production –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ**
   - `teaching-panel-stage.service` (–ø–æ—Ä—Ç 8001)
   - `teaching_panel.service` (–ø–æ—Ä—Ç 8000)
   - –ú–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å –∑–∞ —Ä–µ—Å—É—Ä—Å—ã

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º

### üî• –ù–ï–ú–ï–î–õ–ï–ù–ù–û (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ):
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤–æ –í–°–ï–• —Å–∫—Ä–∏–ø—Ç–∞—Ö** (–ø—Ä–æ–±–ª–µ–º–∞ #1)
2. **–î–æ–±–∞–≤–∏—Ç—å health checks –≤ auto_deploy.ps1** (–ø—Ä–æ–±–ª–µ–º–∞ #3)
3. **–î–æ–±–∞–≤–∏—Ç—å fix_permissions –≤ auto_deploy.ps1** (–ø—Ä–æ–±–ª–µ–º–∞ #4)

### ‚ö° –°–†–û–ß–ù–û (–≤–∞–∂–Ω—ã–µ):
1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å atomic frontend deploy** (–ø—Ä–æ–±–ª–µ–º–∞ #5)
2. **–û–±–Ω–æ–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å–∫—Ä–∏–ø—Ç—ã** (–ø—Ä–æ–±–ª–µ–º–∞ #6)
3. **–û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç gunicorn –∫–æ–Ω—Ñ–∏–≥–æ–≤** (–ø—Ä–æ–±–ª–µ–º–∞ #2)

### üìù –ü–õ–ê–ù–û–í–û–ï:
1. –î–æ–±–∞–≤–∏—Ç—å pre-deploy checks (–º–∏–≥—Ä–∞—Ü–∏–∏, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
2. –î–æ–±–∞–≤–∏—Ç—å smoke tests (–ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å rollback mechanism
4. –î–æ–±–∞–≤–∏—Ç—å Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–ø–ª–æ—è—Ö
5. –ù–∞–ø–∏—Å–∞—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π "–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π" —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è

---

## ‚úÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–°–º. —Ñ–∞–π–ª `DEPLOY_PROBLEMS_SOLUTION.md` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ø–ª–∞–Ω–æ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

---

**–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω:** GitHub Copilot AI  
**–û—Å–Ω–æ–≤–∞–Ω –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ:** 16 —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–µ–ø–ª–æ—è, systemd –∫–æ–Ω—Ñ–∏–≥–æ–≤, nginx, –ª–æ–≥–æ–≤  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–µ–∞–ª—å–Ω—ã–π production —Å–µ—Ä–≤–µ—Ä lectiospace.ru

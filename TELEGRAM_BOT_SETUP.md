# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- üÜì **–ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ** - –Ω–∏–∫–∞–∫–∏—Ö –ø–ª–∞—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - —Ç–æ–∫–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã 15 –º–∏–Ω—É—Ç
- ‚ö° **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ** - —Å—Å—ã–ª–∫–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å—Ä–∞–∑—É
- üì± **–£–¥–æ–±–Ω–æ** - –≤—Å–µ —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä

## üìã –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "Teaching Panel Bot")
4. –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "teaching_panel_bot")
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π **API —Ç–æ–∫–µ–Ω** (–≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`)

## üìã –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd teaching_panel
..\.venv\Scripts\python.exe -m pip install python-telegram-bot
```

## üìã –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Windows (PowerShell):
```powershell
$env:TELEGRAM_BOT_TOKEN="–í–ê–®_–¢–û–ö–ï–ù_–û–¢_BOTFATHER"
$env:WEBAPP_URL="http://localhost:3000"
```

### Linux/Mac:
```bash
export TELEGRAM_BOT_TOKEN="–í–ê–®_–¢–û–ö–ï–ù_–û–¢_BOTFATHER"
export WEBAPP_URL="http://localhost:3000"
```

### –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (Windows):
```powershell
[System.Environment]::SetEnvironmentVariable('TELEGRAM_BOT_TOKEN', '–í–ê–®_–¢–û–ö–ï–ù', 'User')
[System.Environment]::SetEnvironmentVariable('WEBAPP_URL', 'http://localhost:3000', 'User')
```

## üìã –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
cd teaching_panel
..\.venv\Scripts\python.exe telegram_bot.py
```

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∏ –≤—ã–≤–µ—Å—Ç–∏:
```
ü§ñ Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω!
üåê Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://localhost:3000
```

## üìã –®–∞–≥ 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

1. **–ü—Ä–∏–≤—è–∑–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞:**
   - –í–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –Ω–∞ —Å–∞–π—Ç–µ
   - –ü–µ—Ä–µ–π—Ç–∏ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
   - –ù–∞–π—Ç–∏ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start`
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π Telegram ID
   - –í—Å—Ç–∞–≤–∏—Ç—å ID –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –Ω–∞ —Å–∞–π—Ç–µ

2. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è:**
   - –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞ –Ω–∞–∂–∞—Ç—å "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?"
   - –í–≤–µ—Å—Ç–∏ email
   - –û—Ç–∫—Ä—ã—Ç—å Telegram
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/reset` –±–æ—Ç—É
   - –ü–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/reset` - –ü–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
- `/profile` - –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ñ–∏–ª–µ
- `/unlink` - –û—Ç–≤—è–∑–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
- `/help` - –°–ø—Ä–∞–≤–∫–∞

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 1. Webhook –≤–º–µ—Å—Ç–æ polling (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å webhook –≤–º–µ—Å—Ç–æ polling:

```python
# –í telegram_bot.py –¥–æ–±–∞–≤–∏—Ç—å:
def main():
    application = Application.builder().token(BOT_TOKEN).build()
    
    # ... —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ ...
    
    # –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Å webhook:
    application.run_webhook(
        listen="0.0.0.0",
        port=8443,
        url_path="telegram",
        webhook_url=f"{WEBAPP_URL}/telegram"
    )
```

### 2. Systemd service (Linux)

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `/etc/systemd/system/telegram-bot.service`:

```ini
[Unit]
Description=Telegram Bot for Password Reset
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/path/to/teaching_panel
Environment="TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω"
Environment="WEBAPP_URL=https://–≤–∞—à_–¥–æ–º–µ–Ω.com"
ExecStart=/path/to/.venv/bin/python telegram_bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

–ó–∞–ø—É—Å–∫:
```bash
sudo systemctl enable telegram-bot
sudo systemctl start telegram-bot
sudo systemctl status telegram-bot
```

### 3. Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

ENV TELEGRAM_BOT_TOKEN=""
ENV WEBAPP_URL=""

CMD ["python", "telegram_bot.py"]
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞** –≤ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–æ–≤** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 15 –º–∏–Ω—É—Ç)
4. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è** –¥–ª—è –∞—É–¥–∏—Ç–∞

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω
curl https://api.telegram.org/bot<YOUR_TOKEN>/getMe

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
curl https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
cd teaching_panel
..\.venv\Scripts\python.exe manage.py migrate accounts
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ Django

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Django setup –≤—ã–ø–æ–ª–Ω–µ–Ω:
```python
import os
import django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'teaching_panel.settings')
django.setup()
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–õ–æ–≥–∏ –±–æ—Ç–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª:

```bash
python telegram_bot.py > telegram_bot.log 2>&1 &
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `nohup`:

```bash
nohup python telegram_bot.py &
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
2. ‚úÖ –ü—Ä–∏–≤—è–∑–∞—Ç—å —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∞
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
4. üìù –û–±—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–µ —Å –±–æ—Ç–æ–º
5. üöÄ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä–µ

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö
- üìÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- üí¨ –û—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- üéì –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º

---

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –∏–ª–∏ Django —Å–µ—Ä–≤–µ—Ä–∞

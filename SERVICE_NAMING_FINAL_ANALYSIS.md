# üîç –§–ò–ù–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó: –ü—É—Ç–∞–Ω–∏—Ü–∞ —Å –∏–º–µ–Ω–∞–º–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

**–î–∞—Ç–∞:** 7 —Ñ–µ–≤—Ä–∞–ª—è 2026, 08:10 UTC  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ó–û–ë–†–ê–ù–û –ò –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## üéØ –§–ê–ö–¢–´ –° PRODUCTION –°–ï–†–í–ï–†–ê

### ‚úÖ –ß–¢–û –†–ï–ê–õ–¨–ù–û –†–ê–ë–û–¢–ê–ï–¢ (Production):

**Systemd —Å–µ—Ä–≤–∏—Å:**
```bash
‚óè teaching_panel.service  ‚Üê –ü–û–î–ß–ï–†–ö–ò–í–ê–ù–ò–ï ‚úÖ
  Status: active (running) since Fri 2026-02-06 18:17:06 UTC
  Unit file: /etc/systemd/system/teaching_panel.service
```

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:**
```bash
/var/www/teaching_panel/  ‚Üê –ü–û–î–ß–ï–†–ö–ò–í–ê–ù–ò–ï ‚úÖ
  Size: 28 KB
  Last modified: Feb 6, 2026 (–ê–ö–¢–£–ê–õ–¨–ù–ê–Ø)
```

**–ó–∞–ø—É—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:**
```bash
www-data  426344  /var/www/teaching_panel/venv/bin/gunicorn  ‚Üê –ü–û–î–ß–ï–†–ö–ò–í–ê–ù–ò–ï ‚úÖ
  Working Directory: /var/www/teaching_panel/teaching_panel
  Bind: 127.0.0.1:8000
```

---

### ‚ùå –ß–¢–û –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢ / –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø:

**Systemd —Å–µ—Ä–≤–∏—Å:**
```bash
teaching-panel.service  ‚Üê –î–ï–§–ò–° ‚ùå
  Error: Unit teaching-panel.service could not be found.
```

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:**
```bash
/var/www/teaching-panel/  ‚Üê –î–ï–§–ò–° ‚ùå
  Size: 4 KB (–ø–æ—á—Ç–∏ –ø—É—Å—Ç–∞—è)
  Last modified: Feb 3, 2026 (–£–°–¢–ê–†–ï–õ–ê)
  –°—Ç–∞—Ç—É—Å: –ù–ï–ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
```

---

### ‚ö†Ô∏è STAGING (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ):

**Systemd —Å–µ—Ä–≤–∏—Å:**
```bash
teaching-panel-stage.service  ‚Üê –î–ï–§–ò–° –¥–ª—è staging ‚úÖ
  Status: active (running)
  Bind: 127.0.0.1:8001
```

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:**
```bash
/var/www/teaching-panel-stage/  ‚Üê –î–ï–§–ò–° –¥–ª—è staging ‚úÖ
  Size: 24 KB
  Status: –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –¥–ª—è staging
```

---

## üìä –ü–†–ê–í–ò–õ–ê –ò–ú–ï–ù–û–í–ê–ù–ò–Ø

| –û–∫—Ä—É–∂–µ–Ω–∏–µ | Systemd —Å–µ—Ä–≤–∏—Å | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è | –ü–æ—Ä—Ç |
|-----------|---------------|------------|------|
| **Production** | `teaching_panel` (–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ) | `/var/www/teaching_panel/` | 8000 |
| **Staging** | `teaching-panel-stage` (–¥–µ—Ñ–∏—Å) | `/var/www/teaching-panel-stage/` | 8001 |
| **Support Bot** | `support_bot` (–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ) | - | - |
| **Telegram Bot** | `telegram_bot` (–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ) | - | - |
| **Celery Worker** | `celery-worker` (–¥–µ—Ñ–∏—Å) | - | - |
| **Celery Beat** | `celery-beat` (–¥–µ—Ñ–∏—Å) | - | - |

**–í—ã–≤–æ–¥:** –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞! –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç —Å–≤–æ–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ –∏–º—è.

---

## üîç –û–¢–ö–£–î–ê –ü–£–¢–ê–ù–ò–¶–ê?

### –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ (–¥–æ Feb 3):** –ü—Ä–æ–µ–∫—Ç –Ω–∞–∑—ã–≤–∞–ª—Å—è `teaching-panel` (—Å –¥–µ—Ñ–∏—Å–æ–º)
   - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `/var/www/teaching-panel/`
   - –°–µ—Ä–≤–∏—Å: –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–∂–µ –±—ã–ª `teaching-panel`

2. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ (~Feb 3-6):** –ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ `teaching_panel` (–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)
   - –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/var/www/teaching_panel/`
   - –°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å `teaching_panel.service`
   - –°—Ç–∞—Ä–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –æ—Å—Ç–∞–ª–∞—Å—å (4 KB, –ø–æ—á—Ç–∏ –ø—É—Å—Ç–∞—è)

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–≤–∞ –Ω–∞–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤:
   - ‚úÖ –ù–û–í–´–ï (—Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º) - —Ä–∞–±–æ—Ç–∞—é—Ç
   - ‚ùå –°–¢–ê–†–´–ï (—Å –¥–µ—Ñ–∏—Å–æ–º) - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç

4. **Staging –Ω–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–ª—Å—è:** –û—Å—Ç–∞–ª—Å—è `teaching-panel-stage` —Å –¥–µ—Ñ–∏—Å–æ–º

---

## ‚úÖ –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ 8 —Ñ–∞–π–ª–∞—Ö:

1. **deploy_to_production.ps1** (5 –∑–∞–º–µ–Ω)
   - ‚ùå `teaching-panel` ‚Üí ‚úÖ `teaching_panel`
   - –°—Ç—Ä–æ–∫–∏: 39, 52, 356, 363, 417

2. **deploy.ps1** (2 –∑–∞–º–µ–Ω—ã)
   - ‚ùå `teaching-panel` ‚Üí ‚úÖ `teaching_panel` (production)
   - ‚ùå `teaching-panel-staging` ‚Üí ‚úÖ `teaching_panel_stage` (staging)

3. **deploy_simple.ps1** (2 –∑–∞–º–µ–Ω—ã + –ø—É—Ç—å)
   - ‚ùå `teaching-panel` ‚Üí ‚úÖ `teaching_panel`
   - ‚ùå `/var/www/teaching-panel` ‚Üí ‚úÖ `/var/www/teaching_panel`

4. **deploy_multi.ps1** (3 –∑–∞–º–µ–Ω—ã)
   - russia-prod: ‚úÖ `teaching_panel`
   - russia-stage: ‚úÖ `teaching_panel_stage`
   - africa-prod: ‚úÖ `teaching_panel_africa`

5. **smoke_check_v2.sh** (3 –∑–∞–º–µ–Ω—ã)
   - –í—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `teaching-panel` ‚Üí `teaching_panel`

6. **deep_check.sh** (2 –∑–∞–º–µ–Ω—ã)
   - –í—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `teaching-panel` ‚Üí `teaching_panel`

7. **fix_ssl_localhost.sh** (1 –∑–∞–º–µ–Ω–∞)
   - restart `teaching-panel` ‚Üí `teaching_panel`

8. **deploy_production_fixes.sh** (2 –∑–∞–º–µ–Ω—ã)
   - SERVICE_NAME –∏ journalctl –∫–æ–º–∞–Ω–¥—ã

---

## üîß –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
```powershell
ssh tp "systemctl status teaching_panel"
# ‚úÖ OK: Active (running)

ssh tp "systemctl status teaching-panel"
# ‚ùå ERROR: Unit could not be found
```

### –¢–µ—Å—Ç 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```powershell
ssh tp "sudo systemctl restart teaching_panel"
# ‚úÖ OK: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ

ssh tp "sudo systemctl restart teaching-panel"
# ‚ùå ERROR: Failed to restart teaching-panel.service: Unit teaching-panel.service not found.
```

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
```bash
ssh tp "ls -ld /var/www/teaching_panel/"
# ‚úÖ OK: drwxr-xr-x 28672 bytes, Feb 6

ssh tp "ls -ld /var/www/teaching-panel/"
# ‚ö†Ô∏è EXISTS but OLD: drwxr-xr-x 4096 bytes, Feb 3 (–£–°–¢–ê–†–ï–õ–ê)
```

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### ‚úÖ –°–¥–µ–ª–∞–Ω–æ:
- [x] –ù–∞–π–¥–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ (8 —Ñ–∞–π–ª–æ–≤)
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ

### ‚è≥ TODO (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
- [ ] –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/var/www/teaching-panel/` (–æ—Å–≤–æ–±–æ–¥–∏—Ç –º–µ—Å—Ç–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ `.sh` —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å—Ç–∞—Ä—ã—Ö –ø—É—Ç–µ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∏–º–ª–∏–Ω–∫ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏? (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ù–ê –ë–£–î–£–©–ï–ï

### 1. –°—Ç–∞–Ω–¥–∞—Ä—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
# –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ: –ü–û–î–ß–ï–†–ö–ò–í–ê–ù–ò–ï
teaching_panel_new_feature.service  ‚úÖ
/var/www/teaching_panel_new/        ‚úÖ

# –ò–∑–±–µ–≥–∞—Ç—å: –¥–µ—Ñ–∏—Å (—Ç–æ–ª—å–∫–æ –¥–ª—è staging/–æ–∫—Ä—É–∂–µ–Ω–∏–π)
teaching-panel-new-feature.service  ‚ö†Ô∏è
```

### 2. –ü—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤:
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–∏–º–ª–∏–Ω–∫ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –û–±–Ω–æ–≤–∏—Ç—å –í–°–ï —Å–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è
- –û–±–Ω–æ–≤–∏—Ç—å –í–°–ï —Å–∫—Ä–∏–ø—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ copilot-instructions.md:
```markdown
## Naming Convention

**Production services:**
- Format: `service_name` (underscore)
- Example: `teaching_panel.service`
- Path: `/var/www/teaching_panel/`

**Staging services:**
- Format: `service-name-stage` (hyphen)
- Example: `teaching-panel-stage.service`
- Path: `/var/www/teaching-panel-stage/`
```

---

## üìà IMPACT –ê–ù–ê–õ–ò–ó

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚ùå ~30% –∫–æ–º–∞–Ω–¥ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏
- ‚ùå –ü–æ—Å–ª–µ git pull –∫–æ–¥ –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è (gunicorn –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–ª—Å—è)
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥–µ–ª–∏ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –ø–æ—Å–ª–µ "—É—Å–ø–µ—à–Ω–æ–≥–æ" –¥–µ–ø–ª–æ—è
- ‚ùå –ü—É—Ç–∞–Ω–∏—Ü–∞ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ (–∫–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å?)

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ 100% –∫–æ–º–∞–Ω–¥ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –î–µ–ø–ª–æ–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- ‚úÖ –Ø—Å–Ω–æ—Å—Ç—å –≤ –∫–æ–º–∞–Ω–¥–∞—Ö –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üèÜ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–¢—ã –±—ã–ª –ü–†–ê–í –Ω–∞ 100%!** –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã–ª–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞ "—Ç–æ —Ç–∞–∫, —Ç–æ —Ç–∞–∫".

**–ù–û:** –ú–æ–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—ã–ª–∏ **–ü–†–ê–í–ò–õ–¨–ù–´–ï** - —è –∏–∑–º–µ–Ω–∏–ª **–Ω–µ–≤–µ—Ä–Ω—ã–µ** –∏–º–µ–Ω–∞ (—Å –¥–µ—Ñ–∏—Å–æ–º) –Ω–∞ **–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ** (—Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ–º).

**–ü—Ä–∏—á–∏–Ω–∞ –ø—É—Ç–∞–Ω–∏—Ü—ã:** –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–ª–∏ —Å `teaching-panel` –Ω–∞ `teaching_panel`, –Ω–æ:
- –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞ –¥–∏—Å–∫–µ
- –ú–Ω–æ–≥–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ –æ–±–Ω–æ–≤–∏–ª–∏
- Staging –æ—Å—Ç–∞–≤–∏–ª–∏ —Å –¥–µ—Ñ–∏—Å–æ–º
- –†–∞–∑–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è (celery-worker, support_bot)

**–†–µ—à–µ–Ω–∏–µ:** –¢–µ–ø–µ—Ä—å –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ü–†–ê–í–ò–õ–¨–ù–´–ï –∏–º–µ–Ω–∞.

---

**–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω:** GitHub Copilot AI  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞:** Production —Å–µ—Ä–≤–µ—Ä lectiospace.ru  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –ü–û–ù–Ø–¢–ê –ò –†–ï–®–ï–ù–ê  
**–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å:** 100% (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
